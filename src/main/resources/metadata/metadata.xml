<?xml version="1.0" encoding="UTF-8"?>
<ComponentMetadata ComponentId="ctype::Adapter/cname::sap:Dropbox/version::1.0.0" 
                   ComponentName="sap:Dropbox" 
                   UIElementType="Adapter"
                   IsExtension="false" 
                   IsFinal="true"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    
    <!-- Sender Adapter Variant -->
    <Variant VariantId="ctype::AdapterVariant/cname::sap:Dropbox/tp::HTTP/mp::File/direction::Sender/version::1.0.0"
             VariantName="Dropbox Sender"
             AttachmentBehavior="Drop">
        
        <InputContent Cardinality="1" Scope="outsidepool" MessageCardinality="1" isStreaming="false">
            <Content>
                <ContentType>Binary</ContentType>
                <Schema></Schema>
            </Content>
        </InputContent>
        
        <OutputContent Cardinality="1" Scope="outsidepool" MessageCardinality="1" isStreaming="false">
            <Content>
                <ContentType>Binary</ContentType>
                <Schema></Schema>
            </Content>
        </OutputContent>
        
        <Tab id="connection">
            <GuiLabels>
                <Label language="EN">Connection</Label>
            </GuiLabels>
            
            <AttributeReference>
                <ReferenceName>credentialAlias</ReferenceName>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>timeout</ReferenceName>
            </AttributeReference>
        </Tab>
        
        <Tab id="processing">
            <GuiLabels>
                <Label language="EN">Processing</Label>
            </GuiLabels>
            
            <AttributeReference>
                <ReferenceName>operation</ReferenceName>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>filePath</ReferenceName>
                <EditCondition>
                    <AttributeName>operation</AttributeName>
                    <AttributeValue>downloadFile</AttributeValue>
                </EditCondition>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>folderPath</ReferenceName>
                <EditCondition>
                    <AttributeName>operation</AttributeName>
                    <AttributeValue>downloadArchive</AttributeValue>
                </EditCondition>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>postProcessing</ReferenceName>
                <EditCondition>
                    <AttributeName>operation</AttributeName>
                    <AttributeValue>downloadFile</AttributeValue>
                </EditCondition>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>archiveDirectory</ReferenceName>
                <EditCondition>
                    <AttributeName>postProcessing</AttributeName>
                    <AttributeValue>move</AttributeValue>
                </EditCondition>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>raiseExceptionOnPostProcessingFailure</ReferenceName>
                <EditCondition>
                    <AttributeName>operation</AttributeName>
                    <AttributeValue>downloadFile</AttributeValue>
                </EditCondition>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>persistDuration</ReferenceName>
                <EditCondition>
                    <AttributeName>postProcessing</AttributeName>
                    <AttributeValue>idempotent</AttributeValue>
                </EditCondition>
            </AttributeReference>
        </Tab>
        
        <Tab id="scheduler">
            <GuiLabels>
                <Label language="EN">Scheduler</Label>
            </GuiLabels>
            
            <AttributeReference>
                <ReferenceName>pollingInterval</ReferenceName>
            </AttributeReference>
        </Tab>
    </Variant>
    
    <!-- Receiver Adapter Variant -->
    <Variant VariantId="ctype::AdapterVariant/cname::sap:Dropbox/tp::HTTP/mp::File/direction::Receiver/version::1.0.0"
             VariantName="Dropbox Receiver"
             AttachmentBehavior="Drop"
             IsRequestResponse="true">
        
        <InputContent Cardinality="1" Scope="outsidepool" MessageCardinality="1" isStreaming="false">
            <Content>
                <ContentType>Any</ContentType>
                <Schema></Schema>
            </Content>
        </InputContent>
        
        <OutputContent Cardinality="1" Scope="outsidepool" MessageCardinality="1" isStreaming="false">
            <Content>
                <ContentType>Any</ContentType>
                <Schema></Schema>
            </Content>
        </OutputContent>
        
        <Tab id="connection">
            <GuiLabels>
                <Label language="EN">Connection</Label>
            </GuiLabels>
            
            <AttributeReference>
                <ReferenceName>credentialAlias</ReferenceName>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>timeout</ReferenceName>
            </AttributeReference>
        </Tab>
        
        <Tab id="processing">
            <GuiLabels>
                <Label language="EN">Processing</Label>
            </GuiLabels>
            
            <AttributeReference>
                <ReferenceName>operationReceiver</ReferenceName>
            </AttributeReference>
            
            <!-- Copy Operation Parameters -->
            <AttributeGroup id="copyGroup">
                <GuiLabels>
                    <Label language="EN">Copy Parameters</Label>
                </GuiLabels>
                <AttributeReference>
                    <ReferenceName>sourcePath</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>copy</AttributeValue>
                    </EditCondition>
                </AttributeReference>
                <AttributeReference>
                    <ReferenceName>destinationPath</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>copy</AttributeValue>
                    </EditCondition>
                </AttributeReference>
                <AttributeReference>
                    <ReferenceName>handlingExistingFiles</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>copy</AttributeValue>
                    </EditCondition>
                </AttributeReference>
            </AttributeGroup>
            
            <!-- Create Folder Parameters -->
            <AttributeReference>
                <ReferenceName>folderPath</ReferenceName>
                <EditCondition>
                    <AttributeName>operationReceiver</AttributeName>
                    <AttributeValue>createFolder</AttributeValue>
                </EditCondition>
            </AttributeReference>
            
            <!-- Delete Parameters -->
            <AttributeReference>
                <ReferenceName>filePath</ReferenceName>
                <OrCondition>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>delete</AttributeValue>
                    </EditCondition>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>getFileUrl</AttributeValue>
                    </EditCondition>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>getMetadata</AttributeValue>
                    </EditCondition>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>upload</AttributeValue>
                    </EditCondition>
                </OrCondition>
            </AttributeReference>
            
            <!-- List Folder Parameters -->
            <AttributeGroup id="listFolderGroup">
                <GuiLabels>
                    <Label language="EN">List Folder Parameters</Label>
                </GuiLabels>
                <AttributeReference>
                    <ReferenceName>folderPath</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>listFolder</AttributeValue>
                    </EditCondition>
                </AttributeReference>
                <AttributeReference>
                    <ReferenceName>recursive</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>listFolder</AttributeValue>
                    </EditCondition>
                </AttributeReference>
                <AttributeReference>
                    <ReferenceName>limit</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>listFolder</AttributeValue>
                    </EditCondition>
                </AttributeReference>
            </AttributeGroup>
            
            <!-- Search Parameters -->
            <AttributeGroup id="searchGroup">
                <GuiLabels>
                    <Label language="EN">Search Parameters</Label>
                </GuiLabels>
                <AttributeReference>
                    <ReferenceName>query</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>search</AttributeValue>
                    </EditCondition>
                </AttributeReference>
                <AttributeReference>
                    <ReferenceName>searchPath</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>search</AttributeValue>
                    </EditCondition>
                </AttributeReference>
                <AttributeReference>
                    <ReferenceName>maxResults</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>search</AttributeValue>
                    </EditCondition>
                </AttributeReference>
                <AttributeReference>
                    <ReferenceName>orderBy</ReferenceName>
                    <EditCondition>
                        <AttributeName>operationReceiver</AttributeName>
                        <AttributeValue>search</AttributeValue>
                    </EditCondition>
                </AttributeReference>
            </AttributeGroup>
            
            <!-- Upload Parameters -->
            <AttributeReference>
                <ReferenceName>mute</ReferenceName>
                <EditCondition>
                    <AttributeName>operationReceiver</AttributeName>
                    <AttributeValue>upload</AttributeValue>
                </EditCondition>
            </AttributeReference>
            
            <AttributeReference>
                <ReferenceName>responseFormat</ReferenceName>
            </AttributeReference>
        </Tab>
    </Variant>
    
    <!-- Attribute Metadata Definitions -->
    <AttributeMetadata>
        <Name>credentialAlias</Name>
        <Usage>true</Usage>
        <DataType>xsd:string</DataType>
        <Default></Default>
        <Length>255</Length>
        <AttributeBehavior>SecureAlias</AttributeBehavior>
        <GuiLabels>
            <Label language="EN">Credential Name</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>timeout</Name>
        <Usage>false</Usage>
        <DataType>xsd:integer</DataType>
        <Default>300000</Default>
        <GuiLabels>
            <Label language="EN">Timeout (ms)</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>operation</Name>
        <Usage>true</Usage>
        <DataType>xsd:string</DataType>
        <Default>downloadFile</Default>
        <FixedValues>
            <FixedValue>
                <Value>downloadFile</Value>
                <GuiLabels>
                    <Label language="EN">Download File</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>downloadArchive</Value>
                <GuiLabels>
                    <Label language="EN">Download Archive File</Label>
                </GuiLabels>
            </FixedValue>
        </FixedValues>
        <GuiLabels>
            <Label language="EN">Operation</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>operationReceiver</Name>
        <Usage>true</Usage>
        <DataType>xsd:string</DataType>
        <Default>upload</Default>
        <FixedValues>
            <FixedValue>
                <Value>copy</Value>
                <GuiLabels>
                    <Label language="EN">Copy File or Folder</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>createFolder</Value>
                <GuiLabels>
                    <Label language="EN">Create Folder</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>delete</Value>
                <GuiLabels>
                    <Label language="EN">Delete File or Folder</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>getFileUrl</Value>
                <GuiLabels>
                    <Label language="EN">Get File URL</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>getMetadata</Value>
                <GuiLabels>
                    <Label language="EN">Get Metadata</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>getStorageStats</Value>
                <GuiLabels>
                    <Label language="EN">Get Storage Statistics</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>listFolder</Value>
                <GuiLabels>
                    <Label language="EN">List Folder</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>listRevisions</Value>
                <GuiLabels>
                    <Label language="EN">List Revisions</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>move</Value>
                <GuiLabels>
                    <Label language="EN">Move File or Folder</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>search</Value>
                <GuiLabels>
                    <Label language="EN">Search File or Folder</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>upload</Value>
                <GuiLabels>
                    <Label language="EN">Upload File</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>updateMetadata</Value>
                <GuiLabels>
                    <Label language="EN">Update Metadata</Label>
                </GuiLabels>
            </FixedValue>
        </FixedValues>
        <GuiLabels>
            <Label language="EN">Operation</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>filePath</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default></Default>
        <IsParameterized>true</IsParameterized>
        <GuiLabels>
            <Label language="EN">File Path</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>folderPath</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default></Default>
        <IsParameterized>true</IsParameterized>
        <GuiLabels>
            <Label language="EN">Folder Path</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>postProcessing</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default>delete</Default>
        <FixedValues>
            <FixedValue>
                <Value>delete</Value>
                <GuiLabels>
                    <Label language="EN">Delete File</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>keep</Value>
                <GuiLabels>
                    <Label language="EN">Keep File and Process Again</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>move</Value>
                <GuiLabels>
                    <Label language="EN">Move File</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>idempotent</Value>
                <GuiLabels>
                    <Label language="EN">Keep File and Mark as Processed</Label>
                </GuiLabels>
            </FixedValue>
        </FixedValues>
        <GuiLabels>
            <Label language="EN">Post-Processing</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>archiveDirectory</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default></Default>
        <GuiLabels>
            <Label language="EN">Archive Directory</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>raiseExceptionOnPostProcessingFailure</Name>
        <Usage>false</Usage>
        <DataType>xsd:boolean</DataType>
        <Default>false</Default>
        <GuiLabels>
            <Label language="EN">Raise Exception on Post-Processing Failure</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>persistDuration</Name>
        <Usage>false</Usage>
        <DataType>xsd:integer</DataType>
        <Default>90</Default>
        <GuiLabels>
            <Label language="EN">Persist Duration (Days)</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>pollingInterval</Name>
        <Usage>false</Usage>
        <DataType>xsd:integer</DataType>
        <Default>60000</Default>
        <GuiLabels>
            <Label language="EN">Polling Interval (ms)</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>sourcePath</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default></Default>
        <IsParameterized>true</IsParameterized>
        <GuiLabels>
            <Label language="EN">Source Path</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>destinationPath</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default></Default>
        <IsParameterized>true</IsParameterized>
        <GuiLabels>
            <Label language="EN">Destination Path</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>handlingExistingFiles</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default>fail</Default>
        <FixedValues>
            <FixedValue>
                <Value>autoRename</Value>
                <GuiLabels>
                    <Label language="EN">Auto Rename</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>fail</Value>
                <GuiLabels>
                    <Label language="EN">Fail</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>ignore</Value>
                <GuiLabels>
                    <Label language="EN">Ignore</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>overwrite</Value>
                <GuiLabels>
                    <Label language="EN">Overwrite</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>dynamic</Value>
                <GuiLabels>
                    <Label language="EN">Dynamic</Label>
                </GuiLabels>
            </FixedValue>
        </FixedValues>
        <GuiLabels>
            <Label language="EN">Handling of Existing Files</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>recursive</Name>
        <Usage>false</Usage>
        <DataType>xsd:boolean</DataType>
        <Default>false</Default>
        <GuiLabels>
            <Label language="EN">Recursive</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>limit</Name>
        <Usage>false</Usage>
        <DataType>xsd:integer</DataType>
        <Default>1000</Default>
        <GuiLabels>
            <Label language="EN">Limit</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>query</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default></Default>
        <IsParameterized>true</IsParameterized>
        <GuiLabels>
            <Label language="EN">Search Query</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>searchPath</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default></Default>
        <GuiLabels>
            <Label language="EN">Search Path</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>maxResults</Name>
        <Usage>false</Usage>
        <DataType>xsd:integer</DataType>
        <Default>1000</Default>
        <GuiLabels>
            <Label language="EN">Maximum Results</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>orderBy</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default>relevance</Default>
        <FixedValues>
            <FixedValue>
                <Value>relevance</Value>
                <GuiLabels>
                    <Label language="EN">Relevance</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>modifiedTime</Value>
                <GuiLabels>
                    <Label language="EN">Last Modified Time</Label>
                </GuiLabels>
            </FixedValue>
        </FixedValues>
        <GuiLabels>
            <Label language="EN">Order By</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>mute</Name>
        <Usage>false</Usage>
        <DataType>xsd:boolean</DataType>
        <Default>false</Default>
        <GuiLabels>
            <Label language="EN">Mute Notifications</Label>
        </GuiLabels>
    </AttributeMetadata>
    
    <AttributeMetadata>
        <Name>responseFormat</Name>
        <Usage>false</Usage>
        <DataType>xsd:string</DataType>
        <Default>json</Default>
        <FixedValues>
            <FixedValue>
                <Value>json</Value>
                <GuiLabels>
                    <Label language="EN">JSON</Label>
                </GuiLabels>
            </FixedValue>
            <FixedValue>
                <Value>xml</Value>
                <GuiLabels>
                    <Label language="EN">XML</Label>
                </GuiLabels>
            </FixedValue>
        </FixedValues>
        <GuiLabels>
            <Label language="EN">Response Format</Label>
        </GuiLabels>
    </AttributeMetadata>
    
</ComponentMetadata>
